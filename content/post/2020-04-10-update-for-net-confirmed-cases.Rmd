---
title: 현재 치료중인 환자수 업데이트
author: Seokjin Woo
date: '2020-04-10'
slug: update-for-net-confirmed-cases
categories:
  - R
tags:
  - R Markdown
---

기존 누진 확진자에서 완치자를 뺀 순확진자를 국가별로 플롯팅 하였습니다.

$$ {\rm Net. confirmed} =  {\rm confirmed} - {\rm released}  $$

국내적으로 보면 서울/경기/인천이 아직 달리고 있지만,
순확진자는 3천명대에 진입하였습니다.

주요 국가 중 순확진자가 감소한 국가는 우리나라와 중국입니다.

대표적으로 잘 관리하는 것으로 알려진 싱가포르는 다시 확산 추세에 접어들었고, 일본에 근접하고 있습니다.

대만은 세계적으로 가장 좋은 수준인데, 순확진자가 크게 감소하지는 않았습니다. 완치하는 사람만큼은 새로운 확진자가 발생하고는 있습니다.

참, 일본과 한국은 순확진자수에 있어 골든 크로스를 보여주고 있습니다.

![](/post/2020-04-10-update-for-net-confirmed-cases_files/netconfirmed.png){width=120%}


아래 그림은 전세계 국가의 현황을 백그라운드에서 그린 겁니다. 기록을 위해 남겨 놓습니다.

```
local opt2 = "  lcolor(gray%15) "
local dep = "net_confirmed "
local ylabel = "25 50 200 400 800 1600 3200 6400 12800 25600 51200 102400  204800  409600"	
local opt = "mlabel(country_lab) msize(tiny)  lcolor(%30) mcolor(%30) mlabsize(tiny)"
local opt_guide = " size(tiny) color(%30)"
local opt_line = "lcolor(gs14) lpattern(dash)"

local gr = " "
foreach x of num  1/125 {

	local add = " (line `dep' date_100 if id_new == `x', sort `opt2')"
	local gr = " `gr'  `add'  "
	
}

* di "`gr'"

twoway `gr' ///
		(connected `dep' date_100 if countryregion == "South Korea", sort mlabel(country_lab) msize(tiny)  mcolor(blue) mlabcolor(blue) lcolor(blue))	///
	(connected `dep' date_100 if countryregion == "Japan", sort `opt'  lcolor(red) mcolor(red) mlabcolor(red) mlabsize(small) mlabpos(12)) ///
	(connected `dep' date_100 if countryregion == "China", sort `opt') ///
	(connected `dep' date_100 if countryregion == "UK", sort `opt') ///
	(connected `dep' date_100 if countryregion == "Italy", sort  `opt') ///
	(connected `dep' date_100 if countryregion == "Spain", sort  `opt') ///
	(connected `dep' date_100 if countryregion == "Singapore", sort  `opt') ///
	(connected `dep' date_100 if countryregion == "Taiwan*", sort  `opt') ///
	(connected `dep' date_100 if countryregion == "US", sort  `opt')	, ///
	xlab(0(5)120, labsize(vsmall) grid  ) /// 
	legend(off) ///
	scheme(s1color)  plotregion(color(bluishgray%20))	///
	yscale(log) ylab(`ylabel' 100 "100th case", grid ang(h) format(%9.0gc)   ) ///
	xtitle("days since 100th confirmed case") ytitle("no. of net confirmed (log-scale)") ///
	note("Date: JHU Github, Generated by 중요한경제문제연구소")  

```

그러면 아래와 같은 그림이 나옵니다.

![](/post/2020-04-10-update-for-net-confirmed-cases_files/netconfirmed2.png){width=100%}
